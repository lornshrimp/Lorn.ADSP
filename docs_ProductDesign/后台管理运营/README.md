# 后台管理运营系统产品需求文档

## 文档概述

本目录包含了Lorn.ADSP开源广告平台后台管理运营系统的完整产品需求文档。该系统是整个广告平台的核心基础设施模块，专注于为广告系统提供必要的用户管理、权限控制、组织架构管理以及统一的管理门户等关键功能。

## 系统定位

后台管理运营系统是Lorn.ADSP开源广告平台的核心基础设施模块，具有以下核心特征：

- **专注广告业务**：专门为广告系统提供必要的用户和权限管理功能
- **简洁高效**：避免复杂的OA流程，专注核心CRUD操作和权限验证
- **开源友好**：轻量级设计，易于部署和维护
- **高度可扩展**：权限控制系统支持各业务模块的灵活接入和扩展

## 设计理念

### 不是OA系统
- 避免复杂的审批流程和工作流
- 不包含人事管理、考勤管理等OA功能
- 专注于广告系统业务需要的核心功能

### 开源导向
- 简化部署和配置过程
- 保持系统轻量级和高性能
- 易于社区贡献和维护

### 功能聚焦
- 基础的用户信息管理（CRUD）
- 简化的组织架构（仅上下级关系）
- 核心的权限控制和验证
- 统一的管理门户界面

## 文档结构

### [01-系统概述与整体架构](./01-系统概述与整体架构.md)
- 系统定位和核心价值（专注广告业务、简洁高效、开源友好）
- 整体架构设计（简化的模块划分）
- 关键设计原则（权限控制、简洁性、开源友好）
- 用户角色定义（系统管理员、业务管理员、普通运营人员）
- 系统集成方案
- 性能和安全要求

### [02-组织架构管理模块](./02-组织架构管理模块.md)
- **简化设计**：去掉复杂的审批流程，专注CRUD操作
- 部门管理功能（基本信息、简单上下级关系、基础操作）
- 岗位管理功能（基本信息、部门归属、基础操作）
- 组织关系维护（仅上下级关系）
- 用户界面设计（简洁的管理界面）
- 数据模型设计（简化的数据结构）
- 权限控制设计
- 系统集成接口

### [03-人员管理模块](./03-人员管理模块.md)
- **简化设计**：去掉复杂的人事信息，专注用户管理
- 用户基本信息管理（用户名、姓名、邮箱、手机、组织关系）
- 账户状态管理（正常、禁用、锁定等基本状态）
- 用户操作功能（CRUD操作、批量操作、查询筛选）
- 业务规则（基本的创建、修改、删除规则）
- 权限控制设计
- 系统集成接口

### [04-权限管理模块](./04-权限管理模块.md)
- **核心模块**：保持完整的权限管理功能
- 权限定义管理（三层权限结构、权限项定义、权限分类）
- 权限分配管理（直接分配、角色分配、组织分配）
- 权限委派管理（基础委派功能，无复杂审批）
- 权限策略引擎（Deny优先、权限继承、权限生效策略）
- 数据权限管理（数据权限类型、配置、验证）
- 权限验证机制（高性能权限验证）
- 权限缓存机制
- 系统集成接口

### [05-角色管理模块](./05-角色管理模块.md)
- **简化设计**：去掉审批流程，专注角色管理核心功能
- 角色定义管理（基本信息、分类管理、状态管理）
- 角色权限配置（权限集合、权限模板、权限验证）
- 角色继承管理（继承关系、继承规则、冲突处理）
- 角色分配管理（用户分配、批量分配、分配监控）
- 角色生命周期管理（创建、维护、退役）
- 角色权限计算
- 权限缓存优化
- 系统集成接口

### [06-统一认证登录模块](./06-统一认证登录模块.md)
- **简化设计**：专注基础登录功能，预留扩展接口
- 基础登录功能（用户名密码登录、登录安全控制）
- 第三方认证接口（预留LDAP、OAuth、SSO等接口）
- 会话管理（会话创建维护、安全控制、会话监控）
- 密码管理（密码策略、密码重置、密码安全保护）
- 账户安全管理（账户锁定、状态管理、安全监控）
- 安全机制设计（认证安全、会话安全）
- 扩展接口设计（预留多因素认证、风险评估等）
- 系统集成接口

### [07-管理门户模块](./07-管理门户模块.md)
- 统一门户界面（主界面布局、主题个性化、工作台功能）
- 菜单管理系统（菜单结构、动态注册、权限控制）
- 个人中心功能（个人信息、账户安全、个性化配置）
- 消息通知系统（消息类型、推送机制、消息处理）
- 系统公告管理（公告发布、展示控制、互动功能）
- 业务模块集成（模块宿主、统一体验、模块导航）
- 技术实现要求（前端技术、后端服务）
- 系统集成接口

### [08-审计日志模块](./08-审计日志模块.md)
- 操作日志记录（用户操作、系统操作、管理操作）
- 安全事件记录（认证安全、授权安全、数据安全事件）
- 业务操作审计（广告业务相关的审计）
- 日志查询分析（基础查询、高级查询、统计分析）
- 日志存储管理（存储策略、空间管理、数据归档）
- 技术实现要求（日志收集、存储技术、查询优化）
- 系统集成接口

### [09-系统配置管理模块](./09-系统配置管理模块.md)
- 配置分类管理（系统基础、安全策略、业务规则、界面显示配置）
- 配置参数管理（参数定义、分组管理、参数值管理）
- 环境配置管理（环境定义、配置差异、环境切换）
- 配置版本控制（版本管理、变更历史、版本回滚）
- 配置动态更新（热更新机制、更新策略、影响控制）
- 配置安全管理（访问权限、敏感信息保护、操作审计）
- 技术实现要求（配置存储、推送技术）
- 系统集成接口

## 核心特性

### 简化的权限管理
- **三层权限结构**：模块-功能-操作的层次化权限定义
- **Deny优先策略**：拒绝权限优先于允许权限的安全策略
- **基础权限委派**：支持简单的权限委派，无复杂审批流程
- **高度可扩展**：为各业务模块提供标准化权限接口

### 简化的组织管理
- **基础组织架构**：支持简单的部门上下级关系
- **基础用户管理**：专注于广告系统需要的用户信息
- **CRUD操作**：提供基础的增删改查操作，无复杂流程

### 开源友好设计
- **轻量级架构**：避免过度设计，保持系统简洁
- **易于部署**：简化的部署和配置过程
- **标准化接口**：提供标准化的权限验证和用户管理接口
- **扩展预留**：预留扩展接口但保持核心功能简洁

### 专注广告业务
- **业务导向**：所有功能都围绕广告系统的业务需求
- **性能优化**：针对广告系统的高并发需求优化
- **安全保障**：提供广告系统需要的基础安全功能

## 技术架构

### 技术栈
- **前端技术**：WPF (.NET 9) 桌面应用
- **后端技术**：ASP.NET Core 9.0 微服务架构
- **数据存储**：SQL Server + Redis缓存
- **消息队列**：RabbitMQ（可选）
- **搜索引擎**：Elasticsearch（日志分析，可选）

### 架构特点
- **微服务架构**：模块化的微服务设计
- **高性能要求**：权限验证 < 10ms，支持5000+ QPS
- **高可用性**：99%系统可用性要求
- **轻量级部署**：支持单机和分布式部署

## 与企业级系统的区别

### 不包含的功能
- **复杂审批流程**：不包含工作流引擎和审批系统
- **人事管理功能**：不包含考勤、薪资、绩效等人事功能
- **多因素认证**：暂不包含，但预留扩展接口
- **复杂组织关系**：只支持简单的上下级关系
- **风险评估系统**：暂不包含，但预留扩展接口

### 简化的功能
- **组织架构管理**：简化为基础的部门和岗位管理
- **人员管理**：简化为基础的用户信息管理
- **权限申请**：简化为直接分配，记录操作日志
- **认证方式**：主要支持用户名密码，预留其他方式接口

## 使用说明

1. **阅读顺序建议**：
   - 首先阅读系统概述了解整体架构和设计理念
   - 重点关注权限管理和角色管理模块（核心功能）
   - 按照模块依赖关系阅读各模块文档

2. **开发参考**：
   - 每个模块文档包含简化的数据模型设计
   - 提供基础的业务流程和用户界面设计
   - 包含系统集成接口规范

3. **部署指导**：
   - 文档提供了完整的功能需求和验收标准
   - 包含技术实现要求和性能指标
   - 提供了基础的安全和合规要求

## 版本信息

- **文档版本**：v1.0（简化版）
- **创建日期**：2025年1月
- **适用系统**：Lorn.ADSP开源广告平台
- **技术框架**：.NET 9 生态系统
- **设计理念**：专注广告业务，简洁高效，开源友好

## 联系信息

如有疑问或需要进一步说明，请参考项目文档或联系开发团队。本系统专注于广告系统的核心需求，如需要更复杂的企业级功能，建议集成专门的OA或HR系统。