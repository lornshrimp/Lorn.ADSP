# Lorn.ADSP 产品需求清单

## 文档说明

本文档详细列出了Lorn.ADSP开源广告平台的完整产品功能需求，按照业务模块进行分类，并标注了优先级和开发阶段。遵循敏捷开发中的用户故事(User Story)格式，确保需求的可理解性和可测试性。

## 需求优先级定义

- **P0 (Critical)**：核心功能，系统无法正常运行缺少的功能
- **P1 (High)**：重要功能，影响主要业务流程的功能
- **P2 (Medium)**：标准功能，提升用户体验的功能
- **P3 (Low)**：增强功能，优化和扩展性功能

## 用户角色定义

- **广告主(Advertiser)**：投放广告的客户
- **媒体方(Publisher)**：提供广告位的网站或应用
- **平台运营(Admin)**：管理平台的运营人员
- **系统管理员(SysAdmin)**：技术管理人员
- **最终用户(EndUser)**：看到广告的用户

---

## 一、用户管理与认证模块

### 1.1 用户注册与认证 (阶段一)

| 需求ID | 用户故事                                           | 验收标准                                                                                   | 优先级 | 开发阶段 |
| ------ | -------------------------------------------------- | ------------------------------------------------------------------------------------------ | ------ | -------- |
| US-001 | 作为广告主，我需要注册账号，以便使用广告投放服务   | 1. 支持邮箱注册<br>2. 验证码验证<br>3. 密码强度检查<br>4. 注册成功后自动登录               | P0     | Sprint 3 |
| US-002 | 作为用户，我需要登录系统，以便访问个人功能         | 1. 支持邮箱+密码登录<br>2. 支持手机号+验证码登录<br>3. 记住登录状态<br>4. 登录失败次数限制 | P0     | Sprint 3 |
| US-003 | 作为用户，我需要找回密码，以便重新访问账号         | 1. 邮箱验证重置<br>2. 手机验证码重置<br>3. 安全问题验证<br>4. 密码重置成功通知             | P1     | Sprint 3 |
| US-004 | 作为平台，我需要实现多因子认证，以便提高账号安全性 | 1. 支持SMS验证<br>2. 支持邮箱验证<br>3. 支持TOTP验证<br>4. 可配置强制开启                  | P2     | Sprint 4 |

### 1.2 权限管理 (阶段一)

| 需求ID | 用户故事                                             | 验收标准                                                                         | 优先级 | 开发阶段 |
| ------ | ---------------------------------------------------- | -------------------------------------------------------------------------------- | ------ | -------- |
| US-005 | 作为系统管理员，我需要管理用户角色，以便控制用户权限 | 1. 创建/编辑/删除角色<br>2. 分配权限给角色<br>3. 用户角色分配<br>4. 权限继承机制 | P0     | Sprint 4 |
| US-006 | 作为广告主，我需要管理团队成员，以便协作管理广告投放 | 1. 邀请团队成员<br>2. 设置成员权限<br>3. 成员操作记录<br>4. 成员状态管理         | P1     | Sprint 4 |
| US-007 | 作为平台运营，我需要审核广告主资质，以便确保平台安全 | 1. 企业资质审核<br>2. 个人身份验证<br>3. 审核流程管理<br>4. 审核结果通知         | P1     | Sprint 4 |

---

## 二、广告主管理模块

### 2.1 账户管理 (阶段一)

| 需求ID | 用户故事                                               | 验收标准                                                                 | 优先级 | 开发阶段 |
| ------ | ------------------------------------------------------ | ------------------------------------------------------------------------ | ------ | -------- |
| US-008 | 作为广告主，我需要完善账户信息，以便获得完整的服务权限 | 1. 企业信息管理<br>2. 联系人信息<br>3. 财务信息<br>4. 资质证明上传       | P0     | Sprint 5 |
| US-009 | 作为广告主，我需要查看账户概览，以便了解投放情况       | 1. 投放数据汇总<br>2. 预算使用情况<br>3. 近期投放趋势<br>4. 关键指标展示 | P0     | Sprint 6 |
| US-010 | 作为广告主，我需要管理支付方式，以便进行广告充值       | 1. 添加支付方式<br>2. 自动充值设置<br>3. 充值记录查询<br>4. 发票管理     | P1     | Sprint 6 |

### 2.2 预算管理 (阶段二)

| 需求ID | 用户故事                                             | 验收标准                                                                        | 优先级 | 开发阶段  |
| ------ | ---------------------------------------------------- | ------------------------------------------------------------------------------- | ------ | --------- |
| US-011 | 作为广告主，我需要设置投放预算，以便控制广告花费     | 1. 日预算设置<br>2. 总预算设置<br>3. 预算分配<br>4. 预算预警                    | P0     | Sprint 16 |
| US-012 | 作为广告主，我需要实时监控预算使用，以便及时调整策略 | 1. 实时花费显示<br>2. 预算消耗速度<br>3. 预计消耗完成时间<br>4. 预算超支预警    | P0     | Sprint 16 |
| US-013 | 作为广告主，我需要自动预算调整，以便优化投放效果     | 1. 基于ROI自动调整<br>2. 基于竞争情况调整<br>3. 时段预算分配<br>4. 智能预算建议 | P2     | Sprint 17 |

---

## 三、广告内容管理模块

### 3.1 创意管理 (阶段二)

| 需求ID | 用户故事                                         | 验收标准                                                                 | 优先级 | 开发阶段  |
| ------ | ------------------------------------------------ | ------------------------------------------------------------------------ | ------ | --------- |
| US-014 | 作为广告主，我需要上传广告素材，以便创建广告     | 1. 图片素材上传<br>2. 视频素材上传<br>3. 文本内容编辑<br>4. 素材格式验证 | P0     | Sprint 10 |
| US-015 | 作为广告主，我需要使用广告模板，以便快速创建广告 | 1. 预制模板库<br>2. 模板自定义<br>3. 模板预览<br>4. 模板保存             | P1     | Sprint 11 |
| US-016 | 作为广告主，我需要批量创建广告，以便提高工作效率 | 1. 批量上传素材<br>2. 批量设置参数<br>3. 批量操作记录<br>4. 错误处理机制 | P2     | Sprint 12 |

### 3.2 审核管理 (阶段二)

| 需求ID | 用户故事                                           | 验收标准                                                                 | 优先级 | 开发阶段  |
| ------ | -------------------------------------------------- | ------------------------------------------------------------------------ | ------ | --------- |
| US-017 | 作为平台运营，我需要审核广告内容，以便确保内容合规 | 1. 审核队列管理<br>2. 审核标准配置<br>3. 审核结果记录<br>4. 审核意见反馈 | P0     | Sprint 11 |
| US-018 | 作为系统，我需要自动审核广告，以便提高审核效率     | 1. 关键词过滤<br>2. 图像识别审核<br>3. 文本情感分析<br>4. 违规内容标记   | P1     | Sprint 12 |
| US-019 | 作为广告主，我需要查看审核进度，以便了解广告状态   | 1. 审核状态显示<br>2. 审核进度追踪<br>3. 审核意见查看<br>4. 修改重新提交 | P1     | Sprint 11 |

---

## 四、广告投放引擎模块

### 4.1 投放决策 (阶段二)

| 需求ID | 用户故事                                         | 验收标准                                                                 | 优先级 | 开发阶段  |
| ------ | ------------------------------------------------ | ------------------------------------------------------------------------ | ------ | --------- |
| US-020 | 作为系统，我需要处理广告请求，以便返回合适的广告 | 1. 请求解析验证<br>2. 广告匹配计算<br>3. 响应数据生成<br>4. 性能监控记录 | P0     | Sprint 7  |
| US-021 | 作为系统，我需要实现定向匹配，以便精准投放广告   | 1. 用户特征匹配<br>2. 地理位置匹配<br>3. 设备环境匹配<br>4. 时间条件匹配 | P0     | Sprint 13 |
| US-022 | 作为系统，我需要进行竞价排序，以便选择最优广告   | 1. eCPM计算<br>2. 质量分评估<br>3. 竞价排序算法<br>4. 多目标优化         | P0     | Sprint 16 |

### 4.2 频次控制 (阶段二)

| 需求ID | 用户故事                                         | 验收标准                                                                 | 优先级 | 开发阶段  |
| ------ | ------------------------------------------------ | ------------------------------------------------------------------------ | ------ | --------- |
| US-023 | 作为广告主，我需要设置广告频次，以便控制用户体验 | 1. 频次上限设置<br>2. 时间窗口配置<br>3. 用户级别控制<br>4. 频次统计监控 | P1     | Sprint 14 |
| US-024 | 作为系统，我需要实时频次检查，以便避免过度曝光   | 1. 实时频次统计<br>2. 快速频次查询<br>3. 频次超限拦截<br>4. 频次数据清理 | P1     | Sprint 14 |

### 4.3 投放监控 (阶段二)

| 需求ID | 用户故事                                             | 验收标准                                                                   | 优先级 | 开发阶段 |
| ------ | ---------------------------------------------------- | -------------------------------------------------------------------------- | ------ | -------- |
| US-025 | 作为系统管理员，我需要监控投放性能，以便及时发现问题 | 1. 响应时间监控<br>2. 吞吐量统计<br>3. 错误率统计<br>4. 异常告警机制       | P0     | Sprint 8 |
| US-026 | 作为广告主，我需要查看投放日志，以便分析投放效果     | 1. 投放记录查询<br>2. 日志数据导出<br>3. 条件筛选过滤<br>4. 日志数据可视化 | P1     | Sprint 9 |

---

## 五、媒体资源管理模块

### 5.1 媒体方管理 (阶段三)

| 需求ID | 用户故事                                           | 验收标准                                                                 | 优先级 | 开发阶段  |
| ------ | -------------------------------------------------- | ------------------------------------------------------------------------ | ------ | --------- |
| US-027 | 作为媒体方，我需要注册接入平台，以便获得广告收益   | 1. 媒体资质审核<br>2. 接入协议签署<br>3. 技术对接测试<br>4. 结算信息配置 | P0     | Sprint 21 |
| US-028 | 作为媒体方，我需要管理广告位，以便优化广告展示     | 1. 广告位创建<br>2. 规格尺寸设置<br>3. 位置标识管理<br>4. 广告位状态控制 | P0     | Sprint 21 |
| US-029 | 作为媒体方，我需要设置广告填充策略，以便最大化收益 | 1. 填充优先级设置<br>2. 底价设置<br>3. 广告类型过滤<br>4. 填充率优化     | P1     | Sprint 22 |

### 5.2 流量质量管理 (阶段三)

| 需求ID | 用户故事                                         | 验收标准                                                                   | 优先级 | 开发阶段  |
| ------ | ------------------------------------------------ | -------------------------------------------------------------------------- | ------ | --------- |
| US-030 | 作为平台，我需要检测虚假流量，以便保护广告主利益 | 1. 异常流量识别<br>2. 点击欺诈检测<br>3. 机器人流量过滤<br>4. 流量质量评分 | P0     | Sprint 22 |
| US-031 | 作为系统，我需要实时反作弊，以便维护平台信誉     | 1. 实时风险评估<br>2. 异常行为拦截<br>3. 风险等级分类<br>4. 作弊数据统计   | P0     | Sprint 22 |

---

## 六、RTB和第三方对接模块

### 6.1 OpenRTB实现 (阶段三)

| 需求ID | 用户故事                                         | 验收标准                                                                    | 优先级 | 开发阶段  |
| ------ | ------------------------------------------------ | --------------------------------------------------------------------------- | ------ | --------- |
| US-032 | 作为DSP，我需要接入RTB竞价，以便参与广告竞价     | 1. OpenRTB协议支持<br>2. 竞价请求处理<br>3. 竞价响应生成<br>4. 超时机制处理 | P0     | Sprint 19 |
| US-033 | 作为系统，我需要管理竞价过程，以便确保竞价公平   | 1. 竞价轮次管理<br>2. 竞价结果记录<br>3. 竞价性能监控<br>4. 竞价数据分析    | P0     | Sprint 19 |
| US-034 | 作为广告主，我需要接入程序化购买，以便自动化投放 | 1. 程序化接口<br>2. 自动出价策略<br>3. 实时竞价反馈<br>4. 投放效果分析      | P1     | Sprint 20 |

### 6.2 第三方ADX对接 (阶段三)

| 需求ID | 用户故事                                         | 验收标准                                                                  | 优先级 | 开发阶段  |
| ------ | ------------------------------------------------ | ------------------------------------------------------------------------- | ------ | --------- |
| US-035 | 作为平台，我需要对接腾讯优量汇，以便扩展流量来源 | 1. 优量汇API对接<br>2. 流量请求适配<br>3. 广告样式适配<br>4. 数据回传机制 | P1     | Sprint 20 |
| US-036 | 作为平台，我需要支持多ADX接入，以便丰富广告生态  | 1. ADX适配器架构<br>2. 多ADX并发请求<br>3. 响应聚合处理<br>4. ADX性能监控 | P1     | Sprint 20 |

---

## 七、视频广告模块

### 7.1 VAST协议支持 (阶段三)

| 需求ID | 用户故事                                         | 验收标准                                                                     | 优先级 | 开发阶段  |
| ------ | ------------------------------------------------ | ---------------------------------------------------------------------------- | ------ | --------- |
| US-037 | 作为系统，我需要支持VAST协议，以便投放视频广告   | 1. VAST 4.0协议实现<br>2. 视频广告解析<br>3. 广告事件跟踪<br>4. 错误处理机制 | P0     | Sprint 23 |
| US-038 | 作为广告主，我需要创建视频广告，以便进行视频营销 | 1. 视频素材上传<br>2. 视频参数设置<br>3. 互动元素配置<br>4. 视频广告预览     | P0     | Sprint 23 |

### 7.2 视频播放器集成 (阶段三)

| 需求ID | 用户故事                                                   | 验收标准                                                                  | 优先级 | 开发阶段  |
| ------ | ---------------------------------------------------------- | ------------------------------------------------------------------------- | ------ | --------- |
| US-039 | 作为媒体方，我需要集成视频广告播放器，以便展示视频广告     | 1. 播放器SDK提供<br>2. 多格式视频支持<br>3. 自适应播放<br>4. 播放事件回调 | P0     | Sprint 24 |
| US-040 | 作为最终用户，我需要良好的视频广告体验，以便不影响内容观看 | 1. 流畅播放体验<br>2. 跳过功能支持<br>3. 音量控制<br>4. 全屏播放支持      | P1     | Sprint 24 |

---

## 八、数据分析与报表模块

### 8.1 实时数据统计 (阶段三)

| 需求ID | 用户故事                                             | 验收标准                                                                   | 优先级 | 开发阶段  |
| ------ | ---------------------------------------------------- | -------------------------------------------------------------------------- | ------ | --------- |
| US-041 | 作为广告主，我需要查看实时投放数据，以便及时调整策略 | 1. 实时数据更新<br>2. 关键指标展示<br>3. 数据图表可视化<br>4. 数据刷新控制 | P0     | Sprint 25 |
| US-042 | 作为媒体方，我需要查看收益数据，以便了解变现情况     | 1. 收益实时统计<br>2. 填充率监控<br>3. eCPM趋势分析<br>4. 收益预测功能     | P0     | Sprint 25 |

### 8.2 自定义报表 (阶段三)

| 需求ID | 用户故事                                           | 验收标准                                                                   | 优先级 | 开发阶段  |
| ------ | -------------------------------------------------- | -------------------------------------------------------------------------- | ------ | --------- |
| US-043 | 作为广告主，我需要自定义报表，以便满足特定分析需求 | 1. 报表字段自定义<br>2. 筛选条件设置<br>3. 报表模板保存<br>4. 定时报表生成 | P1     | Sprint 26 |
| US-044 | 作为用户，我需要导出报表数据，以便进行离线分析     | 1. 多格式导出支持<br>2. 大数据量导出<br>3. 导出任务管理<br>4. 导出进度提醒 | P1     | Sprint 26 |

### 8.3 商业智能分析 (阶段四)

| 需求ID | 用户故事                                           | 验收标准                                                                         | 优先级 | 开发阶段 |
| ------ | -------------------------------------------------- | -------------------------------------------------------------------------------- | ------ | -------- |
| US-045 | 作为广告主，我需要效果预测分析，以便制定投放策略   | 1. 机器学习预测模型<br>2. 多维度预测分析<br>3. 预测准确率评估<br>4. 策略建议生成 | P2     | 持续优化 |
| US-046 | 作为平台运营，我需要用户行为分析，以便优化产品功能 | 1. 用户行为追踪<br>2. 用户画像构建<br>3. 行为路径分析<br>4. 功能使用统计         | P2     | 持续优化 |

---

## 九、移动端和客户端SDK模块

### 9.1 移动端SDK (阶段四)

| 需求ID | 用户故事                                                           | 验收标准                                                           | 优先级 | 开发阶段 |
| ------ | ------------------------------------------------------------------ | ------------------------------------------------------------------ | ------ | -------- |
| US-047 | 作为移动应用开发者，我需要集成广告SDK，以便在应用中显示广告        | 1. Android SDK<br>2. iOS SDK<br>3. 简单集成接口<br>4. 详细集成文档 | P1     | 持续优化 |
| US-048 | 作为移动应用开发者，我需要多种广告形式支持，以便选择合适的广告类型 | 1. 横幅广告<br>2. 插屏广告<br>3. 激励视频广告<br>4. 原生广告       | P1     | 持续优化 |

### 9.2 Web端集成 (阶段四)

| 需求ID | 用户故事                                                | 验收标准                                                                     | 优先级 | 开发阶段 |
| ------ | ------------------------------------------------------- | ---------------------------------------------------------------------------- | ------ | -------- |
| US-049 | 作为网站开发者，我需要集成Web广告，以便在网站中显示广告 | 1. JavaScript SDK<br>2. 异步加载支持<br>3. 响应式广告<br>4. 多浏览器兼容     | P1     | 持续优化 |
| US-050 | 作为网站开发者，我需要广告位配置工具，以便管理网站广告  | 1. 可视化配置界面<br>2. 广告位代码生成<br>3. 效果预览功能<br>4. 配置模板保存 | P2     | 持续优化 |

---

## 十、系统管理模块

### 10.1 配置管理 (阶段一)

| 需求ID | 用户故事                                                 | 验收标准                                                                   | 优先级 | 开发阶段 |
| ------ | -------------------------------------------------------- | -------------------------------------------------------------------------- | ------ | -------- |
| US-051 | 作为系统管理员，我需要管理系统配置，以便灵活调整系统行为 | 1. 配置项管理<br>2. 配置热更新<br>3. 配置版本控制<br>4. 配置回滚机制       | P0     | Sprint 1 |
| US-052 | 作为系统管理员，我需要监控系统状态，以便及时发现问题     | 1. 系统健康检查<br>2. 关键指标监控<br>3. 告警通知机制<br>4. 监控数据可视化 | P0     | Sprint 2 |

### 10.2 运维管理 (阶段一)

| 需求ID | 用户故事                                           | 验收标准                                                                   | 优先级 | 开发阶段 |
| ------ | -------------------------------------------------- | -------------------------------------------------------------------------- | ------ | -------- |
| US-053 | 作为运维人员，我需要日志管理功能，以便排查系统问题 | 1. 分布式日志收集<br>2. 日志搜索查询<br>3. 日志级别控制<br>4. 日志归档清理 | P0     | Sprint 2 |
| US-054 | 作为运维人员，我需要性能监控，以便优化系统性能     | 1. 应用性能监控<br>2. 数据库性能监控<br>3. 网络监控<br>4. 资源使用监控     | P1     | Sprint 2 |

---

## 需求实现时间线

### 阶段一：基础平台 (Sprint 1-6)
- 用户认证和权限管理：US-001 ~ US-007
- 广告主基础管理：US-008 ~ US-010
- 系统基础设施：US-051 ~ US-054

### 阶段二：核心功能 (Sprint 7-18)
- 广告投放引擎：US-020 ~ US-026
- 广告内容管理：US-014 ~ US-019
- 定向和预算管理：US-011 ~ US-013, US-021 ~ US-024

### 阶段三：生态对接 (Sprint 19-26)
- RTB和第三方对接：US-032 ~ US-036
- 媒体资源管理：US-027 ~ US-031
- 视频广告支持：US-037 ~ US-040
- 数据分析报表：US-041 ~ US-044

### 阶段四：平台优化 (持续)
- 移动端SDK：US-047 ~ US-050
- 商业智能分析：US-045 ~ US-046
- 持续优化和增强功能

## 验收标准模板

每个用户故事的验收标准应包含：

1. **功能性标准**：核心功能是否正确实现
2. **性能标准**：响应时间、吞吐量等性能指标
3. **可用性标准**：用户界面友好性和易用性
4. **安全性标准**：数据安全和权限控制
5. **可维护性标准**：代码质量和文档完整性

## 需求变更管理

1. **需求变更流程**：
   - 需求变更提出 → 影响评估 → 优先级调整 → 开发计划更新

2. **变更影响评估**：
   - 开发工作量评估
   - 测试影响评估
   - 上线时间影响评估
   - 资源需求变化评估

3. **需求追溯**：
   - 需求来源记录
   - 变更历史记录
   - 实现状态追踪
   - 测试覆盖情况

---

*本需求清单将根据项目进展和用户反馈持续更新维护*
