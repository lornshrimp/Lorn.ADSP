<!-- markdownlint-disable MD025 MD022 -->
# 团队开发计划（约30人规模，按月排期）
# Team Development Plan (Approx. 30 People, Month-based Schedule)

> 注：本计划遵循项目的中英双语文档规范；时间以“第N个月（MN）”表示，不涉及具体年月日。
> Note: This plan follows the project's bilingual documentation policy; time is expressed as “Month N (MN)” with no calendar dates.

---

## 1. 项目目标与范围
## 1. Goals and Scope

- 建设一套符合IAB标准（OpenRTB、VAST、AdCOM）的互联网广告平台，支持DSP、SSP、广告投放引擎与合约式广告（保量/保价）全链路。
- Build an IAB-compliant advertising platform (OpenRTB, VAST, AdCOM) covering DSP, SSP, Ad Serving Engine, and Contract (Guaranteed) ads end-to-end.

- 满足毫秒级低延迟与高并发需求，提供精准定向、频控、预算与节奏（Pacing）、报表与结算能力。
- Meet millisecond-level low latency and high throughput, with accurate targeting, frequency caps, budget and pacing, reporting, and settlement capabilities.

- 采用分层与微服务架构，严格依赖内聚，运行时通过依赖注入选择实现，策略层可插拔（F#）。
- Use layered microservices with strict inward dependencies, runtime DI for implementation choice, and pluggable strategies (F#).

---

## 2. 优先级与阶段划分
## 2. Priorities and Phasing

- 第一优先级：DSP及必须相关模块
- Priority 1: DSP and required supporting modules

- 第二优先级：SSP及必须相关模块
- Priority 2: SSP and required supporting modules

- 第三优先级：广告投放引擎及必须相关模块
- Priority 3: Ad Serving Engine and required supporting modules

- 第四优先级：合约式广告业务流程相关模块
- Priority 4: Contract (Guaranteed) ads business flow modules

### 2.1 支撑模块范围与依赖
### 2.1 Supporting Modules and Dependencies

- 与优先级1~4配套的“必须相关模块”包含：账户与权限、系统配置、监控与可观测性、日志/追踪、数据通道（ETL/流式日志）、数据报表、财务与结算、反作弊、创意审核、合规与审计、DMP/标签、人群与定向、消息与缓存基座、发布与灰度。
- The “required supporting modules” paired with priorities 1–4 include: accounts and RBAC, system config, monitoring/observability, logging/tracing, data pipelines (ETL/stream), reporting, finance/settlement, anti-fraud, creative review, compliance/audit, DMP/taxonomy, audience and targeting, messaging/cache foundations, release and canary.

- 注意：ADX交易系统出现在整体架构中，但不作为当前四个优先级的主航道；若引入外部DSP/SSP对接需要撮合，将以“接口代理/转接层”方式渐进落地，避免与现有优先级冲突。
- Note: ADX appears in the overall architecture but is not a main track for the four priorities; if external DSP/SSP integration requires brokering, we will first land a “proxy/relay layer” to avoid conflicting with current priorities.

---

## 3. 团队构成（约30人）
## 3. Team Composition (Approx. 30)

- 产品与项目管理（3人）：1名产品负责人、1名项目经理、1名业务分析师。
- Product and PM (3): 1 Product Lead, 1 Project Manager, 1 Business Analyst.

- 架构与技术负责人（2人）：1名首席架构师（.NET/AdTech）、1名平台架构师（可用性与性能）。
- Architecture and Tech Leads (2): 1 Chief Architect (.NET/AdTech), 1 Platform Architect (Reliability/Performance).

- 后端服务（12人）：DSP 5人、SSP 4人、投放引擎 3人（C#/.NET 微服务）。
- Backend Services (12): DSP 5, SSP 4, Ad Engine 3 (C#/.NET microservices).

- 策略/算法（3人）：F# 召回/筛选/排序策略及实验框架。
- Strategy/Algorithms (3): F# recall/filter/ranking strategies and experimentation framework.

- 前端与门户（2人）：管理后台与广告主门户（ASP.NET Core MVC/Blazor）。
- Frontend and Portals (2): Admin and Advertiser portals (ASP.NET Core MVC/Blazor).

- 数据与报表（2人）：数据建模、ETL/指标口径、报表管道。
- Data and Reporting (2): Data modeling, ETL/metrics definitions, reporting pipelines.

- 质量保障（3人）：测试策略、自动化与性能测试、发布验证。
- Quality Assurance (3): Test strategy, automation and performance testing, release validation.

- 平台与运维（2人）：DevOps/SRE，CI/CD、监控与弹性扩容。
- Platform and Operations (2): DevOps/SRE for CI/CD, monitoring, and scaling.

- 共享基础设施（1人）：统一配置、依赖注入、消息与缓存基座。
- Shared Infrastructure (1): Unified config, dependency injection, messaging and caching foundations.

---

## 4. 组织与协作方式
## 4. Organization and Ways of Working

- 小队（Squads）按优先级划分：DSP Squad、SSP Squad、AdEngine Squad、Contract Ads Squad；平台/数据/QA为章节（Chapters）横向支撑。
- Squads aligned to priorities: DSP, SSP, AdEngine, Contract Ads; Platform/Data/QA act as horizontal chapters.

- 双周迭代与滚动计划，需求以用户故事与DoD（参见 docs_ProjectManage/Definition_of_Done.md）为准入标准。
- Bi-weekly iterations and rolling planning; stories gated by DoD (see docs_ProjectManage/Definition_of_Done.md).

- TDD与CI优先，所有公共接口先契约后实现，性能预算在设计阶段确定并纳入测试门禁。
- TDD and CI first; all public APIs are contract-first; performance budgets defined in design and enforced by test gates.

---

## 5. 代码仓库与项目映射
## 5. Repository and Solution Mapping

- DSP 相关
- DSP Related
  - 主要组件：`02.Services/Lorn.ADSP.Bidding`、`06.External/Lorn.ADSP.External.OpenRTB`、`04.Core/Lorn.ADSP.Core.AdEngine.Abstractions`、`04.Core/Lorn.ADSP.Core.Domain`、`05.Infrastructure/*`（数据、缓存、消息）。
  - Key components: `02.Services/Lorn.ADSP.Bidding`, `06.External/Lorn.ADSP.External.OpenRTB`, `04.Core/Lorn.ADSP.Core.AdEngine.Abstractions`, `04.Core/Lorn.ADSP.Core.Domain`, `05.Infrastructure/*` (data, cache, messaging).

- SSP 相关
- SSP Related
  - 主要组件：`02.Services/Lorn.ADSP.Supply`（如需新建）、`01.Presentation/Lorn.ADSP.Web.Admin`（媒体管理）、`04.Core/*`、`05.Infrastructure/*`、`06.External/*`（外部集成）。
  - Key components: `02.Services/Lorn.ADSP.Supply` (create if needed), `01.Presentation/Lorn.ADSP.Web.Admin` (publisher management), `04.Core/*`, `05.Infrastructure/*`, `06.External/*` (integrations).

- 广告投放引擎相关
- Ad Serving Engine Related
  - 主要组件：`02.Services/Lorn.ADSP.AdEngine`、`03.Strategies/*`（F# 策略）、`04.Core/Lorn.ADSP.Core.AdEngine.Abstractions`、`04.Core/Lorn.ADSP.Core.Shared`。
  - Key components: `02.Services/Lorn.ADSP.AdEngine`, `03.Strategies/*` (F#), `04.Core/Lorn.ADSP.Core.AdEngine.Abstractions`, `04.Core/Lorn.ADSP.Core.Shared`.

- 合约式广告相关
- Contract Ads Related
  - 主要组件：`02.Services/Lorn.ADSP.Campaign`、`02.Services/Lorn.ADSP.Creative`、`02.Services/Lorn.ADSP.Reporting`、`01.Presentation/Lorn.ADSP.Web.Admin`。
  - Key components: `02.Services/Lorn.ADSP.Campaign`, `02.Services/Lorn.ADSP.Creative`, `02.Services/Lorn.ADSP.Reporting`, `01.Presentation/Lorn.ADSP.Web.Admin`.

---

## 6. 功能拆解（二级粒度）
## 6. Feature Breakdown (Level-2 Detail)

### 6.1 DSP（第一优先级）
### 6.1 DSP (Priority 1)

- 竞价核心（Bidder Core）
- Bidder Core
  - OpenRTB 2.5/2.6 请求解析、响应生成与校验。
  - OpenRTB 2.5/2.6 request parsing, response generation, and validation.
  - Bid Request 规范化、上下文补全与幂等处理。
  - Bid Request normalization, context enrichment, and idempotency handling.

- 定向与合规（Targeting & Compliance）
- Targeting & Compliance
  - 地理/设备/人口属性/黑白名单/媒体域名与App包名过滤。
  - Geo/device/demographic/black-white lists/site domain and app bundle filters.
  - 隐私合规（GDPR/CCPA）标记透传与选择退出处理。
  - Privacy compliance (GDPR/CCPA) flag propagation and opt-out handling.

- 预算与投放节奏（Budget & Pacing）
- Budget and Pacing
  - 活动/广告组/创意层级预算与日预算、总预算管控。
  - Campaign/ad group/creative budgets with daily and lifetime controls.
  - Pacing 算法（均匀/加速）与超投/欠投纠偏。
  - Pacing algorithms (even/accelerated) with over/under-delivery correction.

- 频次控制（Frequency Capping）
- Frequency Capping
  - 用户/设备/账户维度频控，跨端去重策略。
  - Per user/device/account capping with cross-device dedupe strategies.
  - Redis/本地缓存与滑动窗口支持。
  - Redis/local cache with sliding window support.

- 创意管理（Creatives）
- Creatives
  - 展示/视频/原生广告创意及审核流程。
  - Display/video/native creatives and review workflow.
  - 物料规范校验（尺寸、时长、重量、VAST/VPAID/SIMID）。
  - Asset policy validation (size, duration, weight, VAST/VPAID/SIMID).

- 定价与出价策略（Pricing & Bidding Strategy）
- Pricing and Bidding Strategy
  - 固定CPM、CPC到eCPM换算、底价/软底价处理。
  - Fixed CPM, CPC-to-eCPM conversion, floor/soft-floor handling.
  - Deal ID/PMP 支持与优先级规则。
  - Deal ID/PMP support with priority rules.

- 归因与报表（Attribution & Reporting）
- Attribution and Reporting
  - Win/Impression/Click 通知、去重与丢单补偿。
  - Win/Impression/Click notifications, dedupe, and loss compensation.
  - 指标口径与ETL入湖、近实时聚合（分钟级）。
  - Metrics definitions, ETL to data lake, near real-time aggregation (minutely).

- 反作弊与质量（Anti-fraud & Quality）
- Anti-fraud and Quality
  - 基础风控校验（UA、IP、异常频次），第三方反作弊对接预留。
  - Basic risk checks (UA, IP, abnormal frequencies), stubs for third-party fraud vendors.

- API与门户（APIs & Portals）
- APIs and Portals
  - 广告主、活动、广告组、创意管理API；最小可用运营后台。
  - Advertiser, campaign, ad group, creative management APIs; minimal ops console.

- 合规与审计（Compliance & Audit）
- Compliance and Audit
  - 隐私标记透传（GDPR/CCPA/中国本地化），选择退出（Opt-out）、未成年人保护。
  - Privacy flag propagation (GDPR/CCPA/China localization), opt-out, minor protection.
  - 审计日志与变更轨迹（RBAC/ABAC结合）。
  - Audit logs and change trails (RBAC/ABAC blend).

- 可观测性与SLO（Observability & SLOs）
- Observability and SLOs
  - 指标（QPS、延迟、错误率）、追踪（分布式追踪）、日志（结构化/采样）。
  - Metrics (QPS, latency, error rate), tracing (distributed), logging (structured/sampled).
  - 看板与告警基线（Prometheus/Grafana/ELK）。
  - Dashboards and alert baselines (Prometheus/Grafana/ELK).

### 6.2 SSP（第二优先级）
### 6.2 SSP (Priority 2)

- 媒体与库存（Publishers & Inventory）
- Publishers and Inventory
  - 站点/APP/广告位建模、尺寸与格式、规则与约束。
  - Site/app/ad unit modeling, sizes and formats, rules and constraints.
  - 媒体上线流程、流量标签与分组。
  - Publisher onboarding, traffic labels and groupings.

- 流量接入（Supply Ingestion）
- Supply Ingestion
  - RTB接入与Header Bidding（Server/Client）端点。
  - RTB endpoints and Header Bidding (server/client) endpoints.
  - 超时、重试与限流；多通道并发与优先级。
  - Timeouts, retries, throttling; multi-channel concurrency with priorities.

- 变现与底价（Yield & Floors）
- Yield and Floors
  - 动态底价、价格实验与A/B开关。
  - Dynamic floors, pricing experiments, and A/B toggles.
  - Deal/PMP、私有市场管理与出价优先级。
  - Deal/PMP management with bidding priorities.

- 需求路由（Demand Mediation）
- Demand Mediation
  - 连接内部DSP与外部DSP，竞价拍卖（First/Second/Hybrid）。
  - Connect internal and external DSPs, run auctions (first/second/hybrid).
  - 失败切换与降级，日志与可观测性埋点。
  - Failover and degradation paths, logging and observability.

- 合规与质量（Compliance & Quality）
- Compliance and Quality
  - 创意审核与阻断、分类与屏蔽（品牌安全）。
  - Creative review and blocking, categorization and brand safety blocklists.

- 报表与结算（Reporting & Settlement）
- Reporting and Settlement
  - 填充率、eCPM、收入对账与媒体结算。
  - Fill rate, eCPM, revenue reconciliation and publisher payouts.

- 运维与门户（Ops & Admin）
- Ops and Admin
  - 媒体管理后台、权限与审批、审计日志。
  - Publisher admin console, RBAC and approvals, audit logs.

- 监测与反作弊（Measurement & Anti-fraud）
- Measurement and Anti-fraud
  - 像素/SDK打点、曝光/点击/可视曝光（Viewability）管线。
  - Pixels/SDK beacons, impression/click/viewability pipelines.
  - 供应侧无效流量识别（SIVT/IVT）。
  - Supply-side invalid traffic identification (SIVT/IVT).

### 6.3 广告投放引擎（第三优先级）
### 6.3 Ad Serving Engine (Priority 3)

- 请求接入与网关（Ingress & Gateway）
- Ingress and Gateway
  - 请求协议校验、反向代理与速率限制。
  - Request schema validation, reverse proxy and rate limiting.
  - 统一追踪ID与跨服务分布式追踪（OpenTelemetry）。
  - Unified trace IDs and distributed tracing (OpenTelemetry).

- 候选召回与筛选（Recall & Filter）
- Recall and Filter
  - 召回策略（F#）：基于定向、频控、预算的快速候选集合。
  - Recall strategies (F#): fast candidate sets via targeting, caps, budgets.
  - 筛选策略（F#）：品牌安全、政策与性能约束过滤。
  - Filter strategies (F#): brand safety, policy, and performance constraints.

- 排序与探索（Ranking & Exploration）
- Ranking and Exploration
  - 打分模型与加权策略，冷启动与探索-利用（E/E）开关。
  - Scoring models with weights, cold start and explore-exploit switches.
  - 级联排序与分级超时保护，近似最优提速策略。
  - Cascade ranking with tiered timeouts, near-optimal speedups.

- 统一执行与返回（Execution & Response）
- Execution and Response
  - 频控/预算/底价统一校验与执行，响应渲染与落地页参数。
  - Unified cap/budget/floor checks, response rendering and click macros.
  - 事件采集与投放日志（Kafka/ELK），回灌训练数据。
  - Event collection and serving logs (Kafka/ELK), feedback to training.

- 弹性与高可用（Resilience & HA）
- Resilience and HA
  - 限流、熔断、降级与缓存；蓝绿/金丝雀发布。
  - Throttling, circuit breaking, graceful degradation and caching; blue/green and canary releases.

- 数据闭环（Data Feedback Loop）
- Data Feedback Loop
  - 事件规范（win/impression/click/viewability/conversion）与去重准则。
  - Event taxonomy (win/impression/click/viewability/conversion) and dedupe rules.
  - 在线特征回写与离线训练样本回灌（近实时/批处理）。
  - Online feature updates and offline training samples backfill (near real-time/batch).

### 6.4 合约式广告（第四优先级）
### 6.4 Contract (Guaranteed) Ads (Priority 4)

- 订单与投放单（Orders & Line Items）
- Orders and Line Items
  - 优先级与配额模型、投放窗口与节奏配置。
  - Priority and quota models, flight windows and pacing configuration.
  - 定向约束与冲突检测、审批流与变更审计。
  - Targeting constraints and conflict detection, approval flow and change audit.

- 预测与分配（Forecast & Allocation）
- Forecast and Allocation
  - 基于历史流量与季节性的供给预测。
  - Supply forecast using historical traffic and seasonality.
  - 欠投/超投动态纠偏与再分配。
  - Under/over-delivery correction with dynamic reallocation.

- 上线与质检（Trafficking & QA）
- Trafficking and QA
  - 创意合规、落地页校验、监测与第三方打点。
  - Creative compliance, landing checks, verification and 3rd-party beacons.

- 投放执行（Serving Enforcement）
- Serving Enforcement
  - 与投放引擎联动的保量/保价执行逻辑。
  - Guaranteed delivery enforcement integrated with the serving engine.

- 计费与结算（Billing & Invoicing）
- Billing and Invoicing
  - 投放量与约定量对账、发票与收款流程。
  - Reconcile delivered vs contracted volumes, invoicing and receivables.

- 合同履约合规（Contract Compliance）
- Contract Compliance
  - SLA与惩罚条款执行、变更协议版本化与审计。
  - SLA and penalty enforcement, versioned change control and audits.
  - 合同数据留存与导出（监管要求）。
  - Contract data retention and export (regulatory requirements).

---

## 7. 开发排期（按月，不含具体日期，调整为M1–M15）
## 7. Development Schedule (Monthly, No Calendar Dates, Adjusted M1–M15)

- M1：启动与基座
- M1: Inception and Foundations
  - 目标：架构基线、CI/CD、统一配置/DI、观测基线、核心领域建模、OpenRTB PoC。
  - Goal: Architecture baseline, CI/CD, unified config/DI, observability baseline, core domain modeling, OpenRTB PoC.
  - 产出：解决方案骨架、环境与流水线、性能预算、事件/指标/日志三元规范。
  - Deliverables: Solution skeleton, env & pipelines, perf budgets, event/metrics/logging taxonomy.

- M2：DSP 核心A
- M2: DSP Core A
  - 目标：OpenRTB解析/响应、基础定向、固定CPM、频控v1、最小报表链路、合规与审计框架。
  - Goal: OpenRTB parse/respond, basic targeting, fixed CPM, FC v1, minimal reporting path, compliance/audit framework.
  - 产出：可接测试流量的内部DSP雏形、Advertiser/Campaign API与后台原型。
  - Deliverables: Internal DSP prototype for test traffic, Advertiser/Campaign APIs and admin prototype.

- M3：DSP 核心B
- M3: DSP Core B
  - 目标：预算/节奏、Deal/PMP、反作弊基础、更多定向维度（地理/设备/人群包）、缓存/熔断/限流。
  - Goal: Budget/pacing, Deal/PMP, basic anti-fraud, more targeting (geo/device/audience), cache/circuit/rate limit.
  - 产出：DSP稳定性提升、指标看板与告警。
  - Deliverables: DSP stability uplift, dashboards and alerts.

- M4：SSP 启动与库存
- M4: SSP Kickoff & Inventory
  - 目标：库存/广告位、底价管理、媒体后台最小可用；测量打点与数据通道落地（曝光/点击）。
  - Goal: Inventory/ad units, floor management, minimal publisher admin; measurement beacons and data pipelines (imp/click).
  - 产出：SSP骨架、供给接入规范与SDK对接预案。
  - Deliverables: SSP skeleton, supply ingestion specs and SDK integration plan.

- M5：SSP 竞价与路由
- M5: SSP Auction & Routing
  - 目标：Header Bidding端点、需求路由、多DSP并行拍卖、失败切换与降级、可观测性完善。
  - Goal: Header bidding endpoints, demand routing, multi-DSP auctions, failover/degrade, improved observability.
  - 产出：更稳健的SSP竞价管道、基础报告（填充率/eCPM）。
  - Deliverables: Robust SSP auction pipeline, basic reports (fill/eCPM).

- M6：投放引擎 启动
- M6: Ad Serving Engine Kickoff
  - 目标：请求接入、统一追踪ID、速率限制、F#召回v1、筛选v1、简单排序。
  - Goal: Request ingress, unified trace IDs, rate limit, F# recall v1, filter v1, simple ranking.
  - 产出：端到端路径初步（供给→竞价→投放→计数），事件准则与去重策略。
  - Deliverables: Initial E2E path (supply→auction→serve→count), event rules and dedupe strategy.

- M7：投放引擎 深化
- M7: Serving Engine Deepening
  - 目标：统一校验（频控/预算/底价）、级联超时、缓存与降级、弹性扩容、性能优化1次迭代。
  - Goal: Unified checks (FC/budget/floor), cascade timeouts, caching/degrade, elastic scaling, perf tuning round 1.
  - 产出：近GA的Serving通路质量。
  - Deliverables: Near-GA serving path quality.

- M8：合约式广告 立项与建模
- M8: Contract Ads Kickoff & Modeling
  - 目标：合约域建模（订单/投放单）、配额/优先级/窗口与节奏规则、审批与审计。
  - Goal: Domain modeling (orders/line items), quota/priority/flight/pacing rules, approvals and audits.
  - 产出：核心对象模型、策略与约束原型。
  - Deliverables: Core object models, policy/constraint prototypes.

- M9：合约式广告 预测与分配
- M9: Contract Forecast & Allocation
  - 目标：供给预测、欠投/超投纠偏、执行联动Serving、监控与告警串联。
  - Goal: Supply forecast, under/over-delivery correction, serving enforcement integration, monitoring/alerts wired.
  - 产出：保量/保价分配能力（试运行）。
  - Deliverables: Guaranteed allocation capability (trial).

- M10：数据与报表 完整闭环
- M10: Data & Reporting Full Loop
  - 目标：报表引擎升级（近实时与批处理）、口径统一、对账与结算串联财务服务。
  - Goal: Reporting engine upgrade (near real-time + batch), unified metrics, reconciliation and settlement via finance.
  - 产出：运营/广告主/媒体多视角报表、账务对齐。
  - Deliverables: Multi-perspective reports (ops/advertiser/publisher), financial alignment.

- M11：合规、安全与风控 强化
- M11: Compliance, Security, Risk Hardening
  - 目标：隐私合规本地化、SIVT/IVT反作弊增强、品牌安全与审核联动、审计闭环。
  - Goal: Privacy localization, SIVT/IVT anti-fraud, brand safety & review integration, audit closure.
  - 产出：合规评审材料与通过率提升。
  - Deliverables: Compliance review artifacts and improved pass rate.

- M12：性能与容量 冲刺
- M12: Performance & Capacity Sprint
  - 目标：DSP/SSP/Serving链路性能优化第2轮、容量测试与成本优化、缓存/热点治理。
  - Goal: Perf tuning round 2 across DSP/SSP/Serving, capacity tests, cost optimization, cache/hotspot governance.
  - 产出：SLO达标报告与调优记录。
  - Deliverables: SLO conformance report and tuning logs.

- M13：稳定性工程 与 运维自动化
- M13: Reliability Engineering & Ops Automation
  - 目标：混沌工程、回滚演练、金丝雀策略沉淀、自动化运维工具链与Runbook完善。
  - Goal: Chaos drills, rollback exercises, canary strategies, ops automation toolchain and runbook completion.
  - 产出：稳定性度量与改进清单。
  - Deliverables: Reliability metrics and improvement inventory.

- M14：扩展场景 与 外部对接
- M14: Extended Scenarios & External Integrations
  - 目标：外部DSP/SSP接入差异适配、可选ADX代理层、第三方监测与归因平台对接。
  - Goal: External DSP/SSP variance handling, optional ADX proxy, 3rd-party verification/attribution integrations.
  - 产出：生态对接白名单与合规包。
  - Deliverables: Ecosystem integration allowlist and compliance pack.

- M15：GA 验收与发布
- M15: GA Acceptance & Release
  - 目标：端到端验收、文档/Runbook完善、上线清单、应急预案、知识转移。
  - Goal: E2E acceptance, docs/runbooks, release checklist, incident playbooks, knowledge transfer.
  - 产出：GA发布包与运维交付。
  - Deliverables: GA release bundle and ops handoff.

---

## 8. 里程碑资源配置（概略）
## 8. Staffing per Milestone (High-level)

- M1-M2：DSP优先（DSP 5、架构2、平台1、QA1、数据1、前端1、PM/BA1）。
- M1-M2: DSP focus (DSP 5, Arch 2, Platform 1, QA 1, Data 1, FE 1, PM/BA 1).

- M3-M5：SSP并行推进（SSP 4、DSP 3、引擎2、策略2、QA2、平台1、数据1、前端1）。
- M3-M5: SSP in parallel (SSP 4, DSP 3, Engine 2, Strategy 2, QA 2, Platform 1, Data 1, FE 1).

- M6-M7：投放引擎集中（引擎3、策略3、DSP 2、SSP 2、QA3、平台2、数据1）。
- M6-M7: Serving engine focus (Engine 3, Strategy 3, DSP 2, SSP 2, QA 3, Platform 2, Data 1).

- M8-M9：合约式广告与GA（合约3、引擎3、数据2、QA3、平台2、前端1、PM/BA1）。
- M8-M9: Contract and GA (Contract 3, Engine 3, Data 2, QA 3, Platform 2, FE 1, PM/BA 1).

---

## 9. 质量门禁与验收标准
## 9. Quality Gates and Acceptance Criteria

- DoD：功能完成、代码合并、单元/集成/性能测试通过、文档齐备、可观测性指标纳管。
- DoD: Feature done, code merged, unit/integration/perf tests passed, docs complete, observability metrics onboarded.

- 测试要求：单测覆盖≥80%，核心路径≥95%，性能基准（Serving p99 ≤ 50ms/请求路径，RTB出价p95 ≤ 40ms）。
- Test requirements: Unit coverage ≥80%, core paths ≥95%, perf baselines (Serving p99 ≤ 50ms per request path, RTB bidder p95 ≤ 40ms).

- 安全与合规：依OWASP/隐私法规清单进行静态与渗透测试，第三方脚本与打点白名单管理。
- Security and compliance: Static and penetration tests per OWASP/privacy checklist; whitelisting third-party scripts/beacons.

- 变更管理：蓝绿/金丝雀、回滚策略与数据迁移脚本验证。
- Change management: Blue/green and canary, rollback strategy, verified data migration scripts.

---

## 10. 关键依赖与风险缓解
## 10. Key Dependencies and Risk Mitigation

- 数据与标识：ID空间与去重策略、匿名/已登录跨端对齐，必要时引入统一ID。
- Identity and data: ID spaces and dedupe, anonymous/logged-in alignment, unified ID if needed.

- 第三方对接：反作弊、监测、外部DSP/SSP接口差异与SLA约束。
- Third-party integrations: Fraud, verification, external DSP/SSP interface variance and SLA constraints.

- 性能与成本：冷热数据分层、缓存与批处理、弹性伸缩与成本控制。
- Performance and cost: Hot/cold data tiers, caching and batching, elastic scale and cost controls.

- 法规与品牌安全：区域合规、创意与落地页审查策略、审核留痕。
- Regulations and brand safety: Regional compliance, creative/LP review policies, auditable trails.

---

## 11. 文档与交付物
## 11. Documentation and Deliverables

- 设计与规范：`docs_TecDesign/*` 技术设计、接口契约与Mermaid图；`docs_ProductDesign/*` 产品设计与流程原型。
- Designs and specs: `docs_TecDesign/*` technical designs, contracts and Mermaid diagrams; `docs_ProductDesign/*` product designs and flow prototypes.

- 测试与报告：`docs_TestCases/*` 用例与报告；`08.Tests/*` 自动化测试工程与覆盖率报表。
- Tests and reports: `docs_TestCases/*` cases and reports; `08.Tests/*` automated test projects and coverage reports.

- 运维与SLO：运行手册、报警与仪表盘（Prometheus/Grafana）、容量与升级方案。
- Ops and SLOs: Runbooks, alerts and dashboards (Prometheus/Grafana), capacity and upgrade plans.

---

## 12. 治理与度量
## 12. Governance and Metrics

- 例会与看板：周度全员、双周评审与回顾；看板按优先级与Critical Path展示。
- Rituals and boards: Weekly all-hands, bi-weekly review/retro; boards highlight priorities and critical path.

- 关键指标：交付预测准确度、缺陷逃逸率、p95/p99延迟、可用性、成本/千次请求（Cost/1k RPS）。
- Key metrics: Delivery forecast accuracy, defect escape rate, p95/p99 latency, availability, cost per 1k requests.

- 风险审查：每月风险盘点与缓解方案复盘，跨团队依赖对齐。
- Risk reviews: Monthly risk assessment and mitigation review, cross-team dependency alignment.

---

## 13. 下一步行动（自启动清单）
## 13. Next Steps (Kickoff Checklist)

- 确认优先级范围与性能预算基线，冻结M1-M2里程碑范围。
- Confirm priority scope and performance budgets; freeze M1-M2 scope.

- 搭建流水线、环境与统一脚手架，生成服务骨架与公共包。
- Set up pipelines, environments, unified scaffolds; generate service skeletons and shared packages.

- 对齐接口契约（OpenAPI/JSON Schema），完成RTB与Serving关键时序图。
- Align interface contracts (OpenAPI/JSON Schema), complete RTB and Serving key sequence diagrams.

- 制定测试计划与数据合成方案，搭建性能与对抗性测试基线。
- Define test plan and synthetic data, establish performance and adversarial testing baselines.

---

## 14. 复杂度与工期说明（与系统架构与README对齐）
## 14. Complexity and Timeline Justification (Aligned with Architecture and README)

- 复杂度来源（摘要）：
- Complexity Drivers (Summary):
  - 多入口与多角色：消费者/运营/广告主三入口、RBAC/ABAC与审计联动（系统架构设计 接入层/系统管理模块）。
  - Multiple entry points and roles: consumer/ops/advertiser, RBAC/ABAC with audit (System Architecture: Access/System Management).
  - 广告交易全链路：DSP/SSP/Serving/合约流程耦合及口径统一（系统架构设计 广告交易模块/核心服务层）。
  - Full ad trading chain: DSP/SSP/Serving/Contract integration with metric consistency (Architecture: Trading/Core services).
  - 数据与报表：近实时+批处理的双链路，DMP/BI/自助分析与统一口径（系统架构设计 商业智能模块/数据层）。
  - Data and reporting: dual path (near real-time + batch), DMP/BI/self-service with unified metrics (Architecture: BI/Data layer).
  - 合规与风控：隐私本地化、SIVT/IVT、品牌安全、审计可追溯（README与系统架构设计 安全管理/反作弊服务）。
  - Compliance and risk: privacy localization, SIVT/IVT, brand safety, audit traceability (README & Architecture: Security/Anti-fraud).
  - 高可用与性能：毫秒级SLA、级联超时、弹性扩容、混沌工程（README 性能与监控、系统架构设计 监控服务）。
  - HA and performance: ms-level SLAs, cascade timeouts, elastic scale, chaos engineering (README performance & monitoring, Architecture monitoring).

- 工期调整原则：
- Scheduling Principles:
  - 优先保证主航道（DSP→SSP→Serving→Contract）端到端可用，再分阶段做强化。
  - Ensure end-to-end availability in main tracks (DSP→SSP→Serving→Contract) then enhance iteratively.
  - 将数据与合规/风控/可观测性作为每一阶段的伴随增量，而非末期集中建设。
  - Treat data, compliance/risk, and observability as continuous increments in every phase, not end-loaded.
  - 留足2~3轮性能/容量与稳定性冲刺（M12/M13），再做生态与外部对接（M14），最后GA（M15）。
  - Reserve 2–3 rounds of perf/capacity and reliability sprints (M12/M13) before ecosystem integrations (M14) and GA (M15).
